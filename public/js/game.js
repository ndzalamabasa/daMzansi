(()=>{"use strict";class t{constructor(t,e,n=0,o=0,s){this.userName=t,this.userAvatar=e,this.position=n,this.playerTurn=o,this.avatarSettings=s}move(t){return this.position+t}positionUser(){this.setUserAvatar(this.avatarSettings),document.getElementById(this.position).appendChild(this.avatarSettings)}setUserAvatar(){this.avatarSettings.setAttribute("src",this.userAvatar)}}const e={popUpContainer:document.getElementById("pop-up-container"),popUp:document.getElementById("pop-up"),rollDiceButton:document.getElementById("roll-dice"),board:document.getElementById("board")},{popUpContainer:n,popUp:o}=e;function s(){n.classList.remove("hidden")}function i(){o.innerHTML=""}function a(){return Math.floor(6*Math.random())+1}function c(){s();const t=document.createElement("img");t.setAttribute("src","./assets/images/dice.svg"),t.classList.add("h-1/2","w-1/2","animate-spin"),o.appendChild(t),setTimeout((()=>{!function(t){i();const e=a(),n=document.createElement("h3");n.classList.add("text-3xl","font-bold"),n.innerHTML=1===e?`You got ${e} move`:`You got ${e} moves`;const s=b.cloneNode(!0);s.classList.remove("absolute","top-2.5","right-2.5","h-12","w-12"),s.classList.add("h-2/4","w-2/4"),o.appendChild(s),o.appendChild(n),o.appendChild(E),E.onclick=()=>{t(e)}}(x)}),2e3)}const{popUp:r,rollDiceButton:d}=e;const l=document.createElement("img");l.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const u=document.createElement("img");u.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const p=document.createElement("img");p.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const m=document.createElement("img");m.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const h=document.createElement("img");h.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const g=[l,u,p,m,h],f=new URLSearchParams(window.location.search).get("list"),{rollDiceButton:L}=e,E=L.cloneNode(!0),v=[];let C,b=document.createElement("img");b.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const w={},T=[];f.split(",").forEach(((e,n)=>{const o=e.split(":");w[o[0]]=new t(o[0],o[1],0,n,g[n])}));let M=0,y=Object.keys(w);function A(){const t=w[y[M]];C=t,M++,M===y.length&&(M=0)}function x(t){if(n.classList.add("hidden"),i(),C.position+t>50){let e=C.position+t;e-=50,C.position=C.position-e}50==C.position?alert("You Win"):C.position=C.position+t,C.positionUser(T[C.playerTurn]),console.log(C),setTimeout((()=>{(async function(){const t=await fetch("data.json");return await t.json()})().then((t=>{!function(t){const e=t[Math.floor(Math.random()*t.length-1)];e&&function(t){i();const e=document.createElement("div"),n=document.createElement("h3");n.classList.add("text-center");const o=document.createElement("ul");o.classList.add("flex","flex-col","gap-2","my-4","self-start");const d=E.cloneNode(!0);d.innerHTML="Submit Answer",e.classList.add("flex","flex-col","items-center","justify-between"),n.classList.add("text-xl","font-bold","pb-4"),n.innerHTML=t.question,e.appendChild(n),t.options.forEach((t=>{const e=document.createElement("li"),n=document.createElement("input");n.classList.add("mr-2");const s=document.createElement("label");e.classList.add("flex","items-center"),n.setAttribute("type","radio"),n.setAttribute("name","question"),s.innerHTML=t,e.appendChild(n),e.appendChild(s),o.appendChild(e)})),e.appendChild(o),e.appendChild(d),r.appendChild(e),s(),d.onclick=s=>{const r=function(t){if(document.querySelector('input[name="question"]:checked'))return document.querySelector('input[name="question"]:checked').nextSibling.innerHTML===t.answer;alert("Please select an option")}(t);r?function(t,e,n,o){t.removeChild(e),t.removeChild(n),o.innerHTML="Congrats! You're moving up!";const s=o.cloneNode(!0),i=a();s.innerHTML=`You got ${i} moves!`,t.appendChild(s),t.appendChild(E),E.onclick=()=>{x(i)}}(e,o,s.target,n):(function(t,e,n,o,s){t.removeChild(e),t.removeChild(n),o.innerHTML="You got it wrong!";const a=document.createElement("h5");a.innerHTML=`The correct answer is <strong>${s.answer}</strong>`,t.appendChild(a);const r=E.cloneNode(!0);t.appendChild(r),r.onclick=()=>{i(),c()}}(e,o,s.target,n,t),A())}}(e)}(t)}))}),1500)}A(),E.innerText="Move",["A","B","C","D","E"].forEach((t=>{for(let e=1;e<=10;e++)v.push(`./assets/images/cards/${t}${e}.svg`)}));const{board:U,rollDiceButton:B}=e;let H=new URLSearchParams(window.location.search).get("avatar");b.setAttribute("src",H),B.addEventListener("click",c),function(t){const e=[];let n=1;return t.forEach((t=>{const o=document.createElement("div"),s=document.createElement("img");o.classList.add("card","h-28","w-28","rounded-lg","relative"),o.setAttribute("id",n),s.setAttribute("src",t),o.appendChild(s),n++,e.push(o)})),e}(v).forEach((t=>{U.appendChild(t)}))})();