(()=>{"use strict";const t=document.createElement("img");t.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const e=document.createElement("img");e.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const n=document.createElement("img");n.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const s=document.createElement("img");s.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const o=document.createElement("img");o.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const i=[t,e,n,s,o];class a{constructor(t,e,n=0,s=0,o){this.userName=t,this.userAvatar=e,this.position=n,this.playerTurn=s,this.avatarSettings=o}move(t){return this.position+t}positionUser(){this.setUserAvatar(this.avatarSettings),document.getElementById(this.position).appendChild(this.avatarSettings)}setUserAvatar(){this.avatarSettings.setAttribute("src",this.userAvatar)}userTurnIndicator(){const t=document.createElement("img");return t.classList.add("absolute","top-2.5","right-3.5","h-20","w-20"),t.setAttribute("src",this.userAvatar),t}}const c={popUpContainer:document.getElementById("pop-up-container"),popUp:document.getElementById("pop-up"),rollDiceButton:document.getElementById("roll-dice"),board:document.getElementById("board"),showPlayerTurn:document.getElementById("showPlayerTurn")},{popUpContainer:r,popUp:d}=c;function l(){r.classList.remove("hidden")}function u(){r.classList.add("hidden"),p()}function p(){d.innerHTML=""}function m(){return Math.floor(6*Math.random())+1}function h(){c.showPlayerTurn.appendChild(v.userTurnIndicator())}const{popUp:g}=c;const f=new URLSearchParams(window.location.search).get("list"),{rollDiceButton:E}=c,L=E.cloneNode(!0),b=[];let v,w=document.createElement("img");w.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const C={},y=[];f.split(",").forEach(((t,e)=>{const n=t.split(":");C[n[0]]=new a(n[0],n[1],0,e,i[e])}));let T=0,A=Object.keys(C);function M(){const t=C[A[T]];v=t,T++,T===A.length&&(T=0)}function x(t){if(u(),v.position+t>50){let e=v.position+t;e-=50,v.position=v.position-e,v.positionUser(y[v.playerTurn]),console.log(v.position)}50==v.position&&alert("You Win"),v.position=v.position+t,v.positionUser(y[v.playerTurn]),setTimeout((()=>{(async function(){const t=await fetch("data.json");return await t.json()})().then((t=>{!function(t){const e=t[Math.floor(Math.random()*t.length-1)];e&&function(t){p();const e=document.createElement("div"),n=document.createElement("h3");n.classList.add("text-center");const s=document.createElement("ul");s.classList.add("flex","flex-col","gap-2","my-4","self-start");const o=L.cloneNode(!0);o.innerHTML="Submit Answer",e.classList.add("flex","flex-col","items-center","justify-between"),n.classList.add("text-xl","font-bold","pb-4"),n.innerHTML=t.question,e.appendChild(n),t.options.forEach((t=>{const e=document.createElement("li"),n=document.createElement("input");n.classList.add("mr-2");const o=document.createElement("label");e.classList.add("flex","items-center"),n.setAttribute("type","radio"),n.setAttribute("name","question"),o.innerHTML=t,e.appendChild(n),e.appendChild(o),s.appendChild(e)})),e.appendChild(s),e.appendChild(o),g.appendChild(e),l(),o.onclick=()=>{const i=function(t){if(document.querySelector('input[name="question"]:checked'))return document.querySelector('input[name="question"]:checked').nextSibling.innerHTML===t.answer;alert("Please select an option")}(t);i?function(t,e,n,s){t.removeChild(e),t.removeChild(n),s.innerHTML="Congrats! You're moving up!";const o=document.createElement("img"),i=s.cloneNode(!0);o.setAttribute("src","/assets/images/win.svg"),o.classList.add("w-1/2"),t.appendChild(o);const a=m();i.innerHTML=`You got ${a} moves!`,t.appendChild(i),t.appendChild(L),L.onclick=()=>{x(a)}}(e,s,o,n):(alert("Wrong!"),u(),M(),h())}}(e)}(t)}))}),1500)}M(),L.innerText="Move",["A","B","C","D","E"].forEach((t=>{for(let e=1;e<=10;e++)b.push(`./assets/images/cards/${t}${e}.svg`)}));const{board:U,popUp:B,rollDiceButton:S}=c;h(),S.addEventListener("click",(function(){w.setAttribute("src",v.userAvatar),l();const t=document.createElement("img");t.setAttribute("src","./assets/images/dice.svg"),t.classList.add("h-1/2","w-1/2","animate-spin"),B.appendChild(t),setTimeout((()=>{!function(t){p();const e=m(),n=document.createElement("h3");n.classList.add("text-3xl","font-bold"),n.innerHTML=1===e?`You got ${e} move`:`You got ${e} moves`;const s=w.cloneNode(!0);s.classList.remove("absolute","top-2.5","right-2.5","h-12","w-12"),s.classList.add("h-2/4","w-2/4"),d.appendChild(s),d.appendChild(n),d.appendChild(L),L.onclick=()=>{t(e)}}(x)}),2e3)})),function(t){const e=[];let n=1;return t.forEach((t=>{const s=document.createElement("div"),o=document.createElement("img");s.classList.add("card","h-28","w-28","rounded-lg","relative"),s.setAttribute("id",n),o.setAttribute("src",t),s.appendChild(o),n++,e.push(s)})),e}(b).forEach((t=>{U.appendChild(t)}))})();