(()=>{"use strict";const e={popUpContainer:document.getElementById("pop-up-container"),popUp:document.getElementById("pop-up"),rollDiceButton:document.getElementById("roll-dice"),board:document.getElementById("board")},{popUpContainer:t,popUp:n}=e;function o(){t.classList.remove("hidden")}function i(){n.innerHTML=""}function s(){return Math.floor(6*Math.random())+1}function c(){o();const e=document.createElement("img");e.setAttribute("src","./assets/images/dice.svg"),e.classList.add("h-1/2","w-1/2","animate-spin"),n.appendChild(e),setTimeout((()=>{!function(e){i();const t=s(),o=document.createElement("h3");o.classList.add("text-3xl","font-bold"),o.innerHTML=1===t?`You got ${t} move`:`You got ${t} moves`;const c=m.cloneNode(!0);c.classList.remove("absolute","top-2.5","right-2.5","h-12","w-12"),c.classList.add("h-2/4","w-2/4"),n.appendChild(c),n.appendChild(o),n.appendChild(p),p.onclick=()=>{e(t)}}(f)}),2e3)}const{popUp:a,rollDiceButton:d}=e;const r=new URLSearchParams(window.location.search).get("user"),{rollDiceButton:l}=e,p=l.cloneNode(!0),u=[],m=document.createElement("img");m.classList.add("absolute","top-2.5","right-2.5","h-12","w-12");const h=new class{constructor(e,t,n=0){this.userName=e,this.userAvatar=t,this.position=n}move(e){return this.position+e}}(r,m,0);function f(e){if(t.classList.add("hidden"),i(),h.position+e>50){let t=h.position+e;t-=50,h.position=h.position-t}50==h.position?alert("You Win"):h.position=h.position+e,document.getElementById(h.position).appendChild(m),setTimeout((()=>{(async function(){const e=await fetch("data.json");return await e.json()})().then((e=>{!function(e){const t=e[Math.floor(Math.random()*e.length-1)];t&&function(e){i();const t=document.createElement("div"),n=document.createElement("h3");n.classList.add("text-center");const d=document.createElement("ul");d.classList.add("flex","flex-col","gap-2","my-4","self-start");const r=p.cloneNode(!0);r.innerHTML="Submit Answer",t.classList.add("flex","flex-col","items-center","justify-between"),n.classList.add("text-xl","font-bold","pb-4"),n.innerHTML=e.question,t.appendChild(n),e.options.forEach((e=>{const t=document.createElement("li"),n=document.createElement("input");n.classList.add("mr-2");const o=document.createElement("label");t.classList.add("flex","items-center"),n.setAttribute("type","radio"),n.setAttribute("name","question"),o.innerHTML=e,t.appendChild(n),t.appendChild(o),d.appendChild(t)})),t.appendChild(d),t.appendChild(r),a.appendChild(t),o(),r.onclick=o=>{const a=function(e){if(document.querySelector('input[name="question"]:checked'))return document.querySelector('input[name="question"]:checked').nextSibling.innerHTML===e.answer;alert("Please select an option")}(e);a?function(e,t,n,o){e.removeChild(t),e.removeChild(n),o.innerHTML="Congrats! You're moving up!";const i=o.cloneNode(!0),c=s();i.innerHTML=`You got ${c} moves!`,e.appendChild(i),e.appendChild(p),p.onclick=()=>{f(c)}}(t,d,o.target,n):function(e,t,n,o,s){e.removeChild(t),e.removeChild(n),o.innerHTML="You got it wrong!";const a=document.createElement("h5");a.innerHTML=`The correct answer is <strong>${s.answer}</strong>`,e.appendChild(a);const d=p.cloneNode(!0);e.appendChild(d),d.onclick=()=>{i(),c()}}(t,d,o.target,n,e)}}(t)}(e)}))}),1500)}p.innerText="Move",["A","B","C","D","E"].forEach((e=>{for(let t=1;t<=10;t++)u.push(`./assets/images/cards/${e}${t}.svg`)}));const{board:g,popUp:L,rollDiceButton:C}=e,E=new URLSearchParams(window.location.search).get("avatar");m.setAttribute("src",E),C.addEventListener("click",c),function(e){const t=[];let n=1;return e.forEach((e=>{const o=document.createElement("div"),i=document.createElement("img");o.classList.add("card","h-28","w-28","rounded-lg","relative"),o.setAttribute("id",n),i.setAttribute("src",e),o.appendChild(i),n++,t.push(o)})),t}(u).forEach((e=>{g.appendChild(e)}))})();